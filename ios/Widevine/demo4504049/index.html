<html><head><title>Widevine Adaptive Streaming Demo - 4.5.0.4049</title>
<script language="javascript" src="./demo.js">
</script>
</head>
<body>
<script language="javascript" src="./AC_OETags.js">
</script>
<div>
  <table style="width:965px;font-family:Arial,Verdana" cellspacing="0">
  </table>
</div>
<div id="flashDiv">
</div>
<noscript>
<h1 align='center'>Scripting disabled</h1>
</noscript>
<script language="javascript" src="./WidevineMediaTransformer.js">
</script>

<script language=JavaScript>
  if ( WidevinePlugin ) {
       WidevinePlugin.Default_WVEventListener = function(event, message) {
       alert( event );
       alert( message );
     }
  }

function setupPlayer(obj){
	var someHTML = '<object ID=flashplayer classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" wmode="opaque" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="800" height="800" align="middle" VIEWASTEXT>' +
             '<param name="allowScriptAccess" value="sameDomain" />' +
             '<param name="allowFullScreen" value="true" />' +
             '<param name="movie" value="WidevineMediaTransformer_VideoPlayer.swf" />' +
             '<param name="quality" value="high" />' +
             '<param name="wmode" value="opaque" />' +
             '<embed NAME="flashplayer" swLiveConnect="true" src="WidevineMediaTransformer_VideoPlayer.swf" quality="high" name="test" width="800px" height="800px" wmode="opaque" align="middle" allowScriptAccess="sameDomain"  allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />' +
             '</object>';
	document.getElementById("flashDiv").innerHTML = someHTML;

}

	function checkText(){
           	document.getElementById("flashDiv").innerHTML= "<div style='text-align: center; vertical-align: center; height: 550px; width: 800px'>"
               		+ "Checking for Plugin"
                        + "</div>";
    	}

     	function upgradeText(){
           	document.getElementById("flashDiv").innerHTML= "<div style='text-align: center; vertical-align: center; height: 550px; width: 800px'>"
                        + "Upgrade Plugin"
                        + "</div>";
    	}

   	function initText(){
          	document.getElementById("flashDiv").innerHTML = "<div style='text-align: center; vertical-align: center; height: 550px; width: 800px'>Initializing Plugin</div>";
      	}

   	function getFlashText(){
            	document.getElementById("flashDiv").innerHTML= "<div style='text-align: center; vertical-align: center; height: 550px; width: 800px'>"
                        + "<div style='padding-top: 25px'><a href='http://get.adobe.com/flashplayer/' style='color: white;  font-size: 14pt; text-decoration: none; font-family: sans-serif'>Click here to <span style='color: green; font-weight: bold'>GET FLASH</span></a></div>"
                        + "</div>";
   	}

     	function dumby(){
          	var player = document.getElementById("flashDiv");
               	player.innerHTML = '<div>Restart browser after installing flash.</div><object ID=flashplayer classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" wmode="transparent" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="500" height="400" align="middle" VIEWASTEXT>'
                  	+ '<param name="allowScriptAccess" value="sameDomain" />'
                    	+ '<param name="allowFullScreen" value="true" />'
                      	+ '<param name="quality" value="high" />'
                    	+ '<param name="wmode" value="transparent">'
                   	+ '<embed NAME="flashplayer" swLiveConnect="true" quality="high" name="test" wmode="transparent" width="500px" height="400px" align="middle" allowScriptAccess="sameDomain"  allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" wmode="transparent" />'
                   	+ '</object>';

   	}

 
function setCredentials(){
	document.getElementById('client_id').innerHTML = WVGetClientId();
	if (document.getElementById('device_id').value != "")
		WVSetDeviceId(document.getElementById('device_id').value);

	if (document.getElementById('stream_id').value != "")
		WVSetStreamId(document.getElementById('stream_id').value);

	if (document.getElementById('client_ip').value != "")
		WVSetClientIp(document.getElementById('client_ip').value);

	if (document.getElementById('emm_url').value != "")
		WVSetEmmURL(document.getElementById('emm_url').value);

	if (document.getElementById('emm_ack_url').value != "")
		WVSetEmmAckURL(document.getElementById('emm_ack_url').value);

	if (document.getElementById('hb_url').value != "")
		WVSetHeartbeatUrl(document.getElementById('hb_url').value);

	if (document.getElementById('hb_period').value != "")
		WVSetHeartbeatPeriod(document.getElementById('hb_period').value);

	if (document.getElementById('user_data').value != "")
		WVSetOptData(document.getElementById('user_data').value);
	
	document.getElementById('device_id_cell').innerHTML = WVGetDeviceId();
	document.getElementById('stream_id_cell').innerHTML = WVGetStreamId();
	document.getElementById('client_ip_cell').innerHTML = WVGetClientIp();
	document.getElementById('emm_url_cell').innerHTML = WVGetEmmURL();
	document.getElementById('emm_ack_url_cell').innerHTML = WVGetEmmAckURL(); 
	document.getElementById('hb_url_cell').innerHTML = WVGetHeartbeatUrl();
	document.getElementById('hb_period_cell').innerHTML = WVGetHeartbeatPeriod();
	document.getElementById('user_data_cell').innerHTML = WVGetOptData();
	alert("Credentials Submitted");
}

</script>
<table>
	<tr><th colspan='2'>Credentials</th></tr>
	<tr><td>Client Id:</td><td id='client_id'></td>
	<tr><td>Device Id:</td><td><input type='text' size='30' id='device_id'></td><td id='device_id_cell'></td></tr>
	<tr><td>Stream Id:</td><td><input type='text' size='30' id='stream_id'></td><td id='stream_id_cell'></td></tr>
	<tr><td>Client Ip:</td><td><input type='text' size='30' id='client_ip'></td><td id='client_ip_cell'></td></tr>
	<tr><td>EMM Url:</td><td><input type='text' size='30' id='emm_url'></td><td id='emm_url_cell'></td></tr>
	<tr><td>EMM Ack Url:</td><td><input type='text' size='30' id='emm_ack_url'></td><td id='emm_ack_url_cell'></td></tr>
	<tr><td>Heartbeat Url:</td><td><input type='text' size='30' id='hb_url'></td><td id='hb_url_cell'></td></tr>
	<tr><td>Heartbeat Period:</td><td><input type='text' size='30' id='hb_period'></td><td id='hb_period_cell'></td></tr>
	<tr><td>User Data:</td><td><input type='text' size='30' id='user_data'></td><td id='user_data_cell'></td></tr>
	<tr><td><input type='button' value='Submit Credentials' OnClick='setCredentials()'></td></tr>
</table>
<input type="Button" Value="Click Me!" OnClick="alert(document.getElementById('WidevinePlugin').GetVersion());">
<script>
	checkFlash();
</script>
</body>
</html>
